@import "tailwindcss";
@import "./generated-themes.css";

[data-theme="blue"] {
	--theme-primary: #32384c;
	--theme-text: #32384c;
	--theme-text-light: #4b597e;
	--theme-button: #32384c;
	--theme-button-hover: #202331;
	--theme-muted: #9393a0;
	--theme-credit: #2e3445;
	--theme-blob-opacity: 0.03;
}

@theme {
	--font-sans:
		"Merriweather", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
		"Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
	--font-merriweather-sans:
		"Merriweather Sans", ui-sans-serif, system-ui, sans-serif,
		"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

	--color-dark-blue-50: #f6f7f9;
	--color-dark-blue-100: #ebedf3;
	--color-dark-blue-200: #d3d7e4;
	--color-dark-blue-300: #acb5cd;
	--color-dark-blue-400: #7f8eb1;
	--color-dark-blue-500: #5f6f98;
	--color-dark-blue-600: #4b597e;
	--color-dark-blue-700: #3e4866;
	--color-dark-blue-800: #363e56;
	--color-dark-blue-900: #32384c;
	--color-dark-blue-950: #202331;

	--color-theme-primary: var(--theme-primary);
	--color-theme-text: var(--theme-text);
	--color-theme-text-light: var(--theme-text-light);
	--color-theme-button: var(--theme-button);
	--color-theme-button-hover: var(--theme-button-hover);
	--color-theme-muted: var(--theme-muted);
	--color-theme-credit: var(--theme-credit);
}

/* Fluid base font: 14px at 320px viewport â†’ 18px at 1440px viewport */
html {
	font-size: clamp(0.875rem, 0.75rem + 0.357vw, 1.125rem);
}

html,
body {
	@apply bg-white;
}

* {
	transition:
		color 0.2s ease,
		background-color 0.2s ease,
		border-color 0.2s ease;
}

/* Desktop: pendulum sway on string+ball */
@keyframes pendulum-sway {
	0% {
		transform: rotate(0deg);
	}
	15% {
		transform: rotate(8deg);
	}
	30% {
		transform: rotate(-6deg);
	}
	45% {
		transform: rotate(4deg);
	}
	60% {
		transform: rotate(-2.5deg);
	}
	75% {
		transform: rotate(1deg);
	}
	90% {
		transform: rotate(-0.5deg);
	}
	100% {
		transform: rotate(0deg);
	}
}

.animate-pendulum {
	animation: pendulum-sway 2s ease-out forwards;
	transform-origin: top center;
}

/* Mobile: bounce drop for string+ball when nav opens */
@keyframes bounce-drop {
	0% {
		transform: translateY(0);
	}
	30% {
		transform: translateY(150px);
	}
	50% {
		transform: translateY(125px);
	}
	65% {
		transform: translateY(150px);
	}
	78% {
		transform: translateY(140px);
	}
	88% {
		transform: translateY(150px);
	}
	95% {
		transform: translateY(147px);
	}
	100% {
		transform: translateY(150px);
	}
}

@keyframes bounce-drop-up {
	0% {
		transform: translateY(150px);
	}
	100% {
		transform: translateY(0);
	}
}

.animate-bounce-drop {
	animation: bounce-drop 2s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.animate-bounce-drop-up {
	animation: bounce-drop-up 0.3s ease-in forwards;
}

/* Mobile: nav slide down */
@keyframes nav-slide-down {
	0% {
		transform: translateY(-100%);
	}
	100% {
		transform: translateY(0);
	}
}

@keyframes nav-overlay-fade {
	0% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}

.animate-nav-slide {
	animation: nav-slide-down 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.animate-nav-overlay {
	animation: nav-overlay-fade 0.3s ease-out forwards;
}

/* Mobile: subtle ball rattle to invite interaction */
@keyframes ball-rattle {
	0%,
	70%,
	100% {
		transform: translateX(0);
	}
	75% {
		transform: translateX(2px);
	}
	80% {
		transform: translateX(-2px);
	}
	85% {
		transform: translateX(1.5px);
	}
	90% {
		transform: translateX(-1px);
	}
	95% {
		transform: translateX(0.5px);
	}
}

.animate-ball-rattle {
	animation: ball-rattle 2s ease-in-out infinite;
}

/* CTA button pop when theme changes */
@keyframes cta-pop {
	0% {
		transform: scale(1);
	}
	30% {
		transform: scale(0.9);
	}
	65% {
		transform: scale(1.07);
	}
	100% {
		transform: scale(1);
	}
}

.animate-cta-pop {
	animation: cta-pop 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Theme picker collapse/expand */
.theme-dot {
	transition: transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
	transition-delay: calc(var(--dot-index, 0) * 30ms);
}

/* Mobile (horizontal): all dots collapse to center, fan out symmetrically */
[data-picker-state="collapsed"] .theme-dot {
	transform: translateX(
		calc(((var(--dot-count) - 1) / 2 - var(--dot-index)) * 40px)
	);
}
[data-picker-state="peeking"] .theme-dot {
	transform: translateX(
		calc(((var(--dot-count) - 1) / 2 - var(--dot-index)) * 34px)
	);
}

/* Desktop (vertical): all dots collapse to center, fan out symmetrically */
@media (min-width: 768px) {
	[data-picker-state="collapsed"] .theme-dot {
		transform: translateY(
			calc(((var(--dot-count) - 1) / 2 - var(--dot-index)) * 3.25rem)
		);
	}
	[data-picker-state="peeking"] .theme-dot {
		transform: translateY(
			calc(((var(--dot-count) - 1) / 2 - var(--dot-index)) * 2.75rem)
		);
	}
}

[data-picker-state="expanded"] .theme-dot {
	transform: none;
}

[data-picker-state="expanded"] .theme-dot:hover {
	transform: scale(1.1);
}
